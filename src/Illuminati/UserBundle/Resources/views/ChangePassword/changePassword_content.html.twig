{% trans_default_domain 'FOSUserBundle' %}
<a href="{{ path('fos_user_profile_show') }}"><span class="glyphicon glyphicon-chevron-left"></span> {{ "profile.return"|trans({},"messages") }}</a>
<h2 class="page-header">Password change</h2>
  {{ form_start(form,{'attr':{'class':'form-horizontal'}}) }}

    <div class="form-group">
        <label class="control-label col-sm-2" for="{{ form.current_password.vars.id }}">{{ form.current_password.vars.label|trans }}</label>
        <div class="col-sm-10">
            {{ form_widget(form.current_password,{'attr':{'class':'form-control'}}) }}
            {% if form_errors(form.current_password) is not empty %}
                <div class="has-error">
                    <span class="help-block">{{ form_errors(form.current_password) }}</span>
                </div>
            {% endif %}
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-sm-2" for="{{ form.plainPassword.vars.id }}">{{ form.plainPassword.vars.label|trans }}</label>
        <div class="col-sm-10">
           <div class="input-group">
               {{ form_widget(form.plainPassword,{'attr':{'class':'form-control togglable-pass'}}) }}
               <div class="input-group-addon btn toggle-pass"><span class="glyphicon glyphicon-eye-open"></span> {{ "profile.show"|trans({},"messages") }}</div>
           </div>
            {% if form_errors(form.plainPassword) is not empty %}
                <div class="has-error">
                    <span class="help-block">{{ form_errors(form.plainPassword) }}</span>
                </div>
            {% endif %}
        </div>
    </div>

    {{ form_widget(form._token) }}

    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <input class="btn btn-primary" type="submit" value="{{ 'change_password.submit'|trans }}" />
        </div>
    </div>

{{ form_end(form) }}
